{"ast":null,"code":"import _slicedToArray from \"/Users/Tim/Documents/wcsFormation/checkpoint4/front/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/Tim/Documents/wcsFormation/checkpoint4/front/src/components/News.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './News.css';\nimport NewsCard from './NewsCard';\n\nconst News = () => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        articles = _useState2[0],\n        setArticles = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        articlesByCategorie = _useState4[0],\n        setArticlesByCategorie = _useState4[1];\n\n  const getArticles = async () => {\n    const result = await axios.get('http://localhost:8000/article');\n    setArticles(result.data);\n  };\n\n  useEffect(() => {\n    getArticles();\n  }, []); // const articlebyCat = (e) => {\n  //     articles.filter((article, i) => {\n  //       // article.cat_name === e.target.value\n  //       console.log(article.cat_name)\n  //     })\n  //   }\n\n  const articlebyCat = e => {\n    const articlesByCat = articles.filter(catArticle => catArticle.cat_name === e.target.value);\n    setArticlesByCategorie(articlesByCat);\n  };\n\n  console.log('====================================');\n  console.log(articlebyCat);\n  console.log('====================================');\n\n  const _useState5 = useState([]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        categories = _useState6[0],\n        setCategories = _useState6[1];\n\n  useEffect(() => {\n    axios.get('http://localhost:8000/article/categorie').then(res => {\n      console.log(res);\n      setCategories(res.data);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n  return React.createElement(\"div\", {\n    className: \"container mx-auto\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"text-secondary mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \"S\\xE9lectionnez une cat\\xE9gorie\"), React.createElement(\"select\", {\n    className: \"browser-default custom-select mb-5 \",\n    onChange: e => articlebyCat(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, categories && categories.map(categorie => {\n    return React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, categorie.cat_name);\n  })), React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, articles && articles.map(article => {\n    return React.createElement(NewsCard, {\n      article: article,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    });\n  })));\n};\n\nexport default News;","map":{"version":3,"sources":["/Users/Tim/Documents/wcsFormation/checkpoint4/front/src/components/News.js"],"names":["React","useState","useEffect","axios","NewsCard","News","articles","setArticles","articlesByCategorie","setArticlesByCategorie","getArticles","result","get","data","articlebyCat","e","articlesByCat","filter","catArticle","cat_name","target","value","console","log","categories","setCategories","then","res","catch","err","map","categorie","article"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,YAAP;AACA,OAAOC,QAAP,MAAqB,YAArB;;AAEA,MAAMC,IAAI,GAAG,MAAM;AAAA,oBAEaJ,QAAQ,CAAC,EAAD,CAFrB;AAAA;AAAA,QAEZK,QAFY;AAAA,QAEFC,WAFE;;AAAA,qBAGmCN,QAAQ,CAAC,EAAD,CAH3C;AAAA;AAAA,QAGZO,mBAHY;AAAA,QAGSC,sBAHT;;AAInB,QAAMC,WAAW,GAAG,YAAY;AAC9B,UAAMC,MAAM,GAAG,MACbR,KAAK,CAACS,GAAN,CAAU,+BAAV,CADF;AAEML,IAAAA,WAAW,CAACI,MAAM,CAACE,IAAR,CAAX;AACP,GAJD;;AAMAX,EAAAA,SAAS,CAAC,MAAM;AACdQ,IAAAA,WAAW;AACZ,GAFQ,EAEP,EAFO,CAAT,CAVmB,CAcnB;AACA;AACA;AACA;AACA;AAEA;;AAKE,QAAMI,YAAY,GAAIC,CAAD,IAAO;AAC1B,UAAMC,aAAa,GAAGV,QAAQ,CAACW,MAAT,CAAgBC,UAAU,IAAIA,UAAU,CAACC,QAAX,KAAwBJ,CAAC,CAACK,MAAF,CAASC,KAA/D,CAAtB;AACAZ,IAAAA,sBAAsB,CAACO,aAAD,CAAtB;AACD,GAHD;;AAOEM,EAAAA,OAAO,CAACC,GAAR,CAAY,sCAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYT,YAAZ;AACAQ,EAAAA,OAAO,CAACC,GAAR,CAAY,sCAAZ;;AAlCe,qBAuCmBtB,QAAQ,CAAC,EAAD,CAvC3B;AAAA;AAAA,QAuCVuB,UAvCU;AAAA,QAuCEC,aAvCF;;AAwCjBvB,EAAAA,SAAS,CAAC,MAAM;AACdC,IAAAA,KAAK,CAACS,GAAN,CAAU,yCAAV,EACGc,IADH,CACQC,GAAG,IAAI;AACXL,MAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACAF,MAAAA,aAAa,CAACE,GAAG,CAACd,IAAL,CAAb;AACD,KAJH,EAKGe,KALH,CAKSC,GAAG,IAAI;AACZP,MAAAA,OAAO,CAACC,GAAR,CAAYM,GAAZ;AACD,KAPH;AAQD,GATQ,EASN,EATM,CAAT;AAYA,SACE;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAO,IAAA,SAAS,EAAC,qBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCADJ,EAGE;AAAQ,IAAA,SAAS,EAAC,qCAAlB;AAAwD,IAAA,QAAQ,EAAGd,CAAD,IAAKD,YAAY,CAACC,CAAD,CAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGS,UAAU,IAAIA,UAAU,CAACM,GAAX,CAAeC,SAAS,IAAI;AACzC,WAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAASA,SAAS,CAACZ,QAAnB,CAAR;AACD,GAFc,CADjB,CAHF,EASE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGb,QAAQ,IAAIA,QAAQ,CAACwB,GAAT,CAAcE,OAAD,IAAa;AACrC,WAAQ,oBAAC,QAAD;AAAU,MAAA,OAAO,EAAEA,OAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAR;AACD,GAFY,CADf,CATF,CADF;AAkBD,CAtED;;AAwEA,eAAe3B,IAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './News.css'\nimport NewsCard from './NewsCard';\n\nconst News = () => {\n\nconst [articles, setArticles] = useState([])\nconst [articlesByCategorie, setArticlesByCategorie] = useState([])\nconst getArticles = async () => {\n  const result = await\n    axios.get('http://localhost:8000/article')\n        setArticles(result.data)\n}  \n\nuseEffect(() => {\n  getArticles()\n},[])\n\n// const articlebyCat = (e) => {\n//     articles.filter((article, i) => {\n//       // article.cat_name === e.target.value\n//       console.log(article.cat_name)\n//     })\n\n//   }\n\n    \n  \n  \n  const articlebyCat = (e) => {\n    const articlesByCat = articles.filter(catArticle => catArticle.cat_name === e.target.value)\n    setArticlesByCategorie(articlesByCat)\n  }\n  \n\n\n    console.log('====================================');\n    console.log(articlebyCat);\n    console.log('====================================');\n  \n\n\n\n  const [categories, setCategories] = useState([])\n  useEffect(() => {\n    axios.get('http://localhost:8000/article/categorie')\n      .then(res => {\n        console.log(res);\n        setCategories(res.data)\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }, []);\n\n\n  return (\n    <div className='container mx-auto'>\n        <label className='text-secondary mt-3'>Sélectionnez une catégorie</label>\n\n      <select className=\"browser-default custom-select mb-5 \" onChange={(e)=>articlebyCat(e)} >\n        {categories && categories.map(categorie => {\n          return (<option>{categorie.cat_name}</option>)\n        })}\n      </select>\n\n      <div className='row'>\n        {articles && articles.map((article) => {\n          return (<NewsCard article={article} />)\n        }\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default News;"]},"metadata":{},"sourceType":"module"}